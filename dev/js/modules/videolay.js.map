{"version":3,"sources":["../babel/videolay.js"],"names":[],"mappings":"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","file":"videolay.js","sourcesContent":["$.fn.videolay = function(options) {\r\n\tconst settings = $.extend({\r\n\t\twidth: 1280, // Scale Width\r\n\t\theight: 720, // Scale Height\r\n\t\tposition: '50% 50%', // Poster Position\r\n\t\tposterSize: 'cover', // Poster Size\r\n\t\tmute: true,\r\n\t\tloop: true,\r\n\t\tcomplete: null, // Callback for ended video\r\n\t\tcontext: false, // Disable Right-Click on video `disable controls`,\r\n\t}, options);\r\n\r\n\r\n\t// debounce for resize function\r\n\tfunction debounce(fn, delay) {\r\n\t\tvar timer = null;\r\n\t\treturn function () {\r\n\t\t\tvar context = this,\r\n\t\t\t\targs = arguments;\r\n\r\n\t\t\twindow.clearTimeout(timer);\r\n\r\n\t\t\ttimer = window.setTimeout(function () {\r\n\t\t\t\tfn.apply(context, args);\r\n\t\t\t}, delay);\r\n\t\t};\r\n\t}\r\n\r\n\treturn this.each(function() {\r\n\t\tconst $this = $(this);\r\n\t\tconst $video = $this.find('video');\r\n\t\tconst posterImage = $video.attr('poster');\r\n\r\n\r\n\t\t// Define the attached selector\r\n\t\tconst sizeVideo = () => {\r\n\t\t\t// Get parent element height and width\r\n\t\t\tlet parentWidth = $this.outerWidth();\r\n\t\t\tlet parentHeight = $this.outerHeight();\r\n\r\n\t\t\t// Get native video width and height\r\n\t\t\tlet nativeWidth = settings.width;\r\n\t\t\tlet nativeHeight = settings.height;\r\n\r\n\t\t\t// Get the scale factors\r\n\t\t\tlet widthScaleFactor = parentWidth / nativeWidth;\r\n\t\t\tlet heightScaleFactor = parentHeight / nativeHeight;\r\n\r\n\t\t\t// Based on highest scale factor set width and height\r\n\t\t\tif (widthScaleFactor > heightScaleFactor) {\r\n\t\t\t\t$video.height(`auto`);\r\n\t\t\t\t$video.width(`${parentWidth}px`);\r\n\t\t\t} else {\r\n\t\t\t\t$video.height(`${parentHeight}px`);\r\n\t\t\t\t$video.width(`auto`);\r\n\t\t\t}\r\n\r\n\t\t\tconst parentStyle = {\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\twidth: $(window).width(),\r\n\t\t\t\theight: $(window).height(),\r\n\t\t\t\toverflow: `hidden`,\r\n\t\t\t\tbackgroundImage: `url(${posterImage})`,\r\n\t\t\t\tbackgroundSize: settings.posterSize,\r\n\t\t\t\tbackgroundPosition: settings.position,\r\n\t\t\t};\r\n\t\t\t$this.css(parentStyle);\r\n\t\t};\r\n\t\tsizeVideo();\r\n\r\n\t\t// call sizeVideo on resize\r\n\t\twindow.addEventListener('resize', debounce(sizeVideo(), 50));\r\n\r\n\t\tconst parentStyle = {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tzIndex: 1,\r\n\t\t\twidth: $(window).width(),\r\n\t\t\theight: $(window).height(),\r\n\t\t\toverflow: `hidden`,\r\n\t\t\tbackgroundImage: `url(${posterImage})`,\r\n\t\t\tbackgroundSize: `cover`,\r\n\t\t\tbackgroundPosition: `center center`,\r\n\t\t};\r\n\t\tconst videoStyle = {\r\n\t\t\tposition: `absolute`,\r\n\t\t\ttop: `50%`,\r\n\t\t\tleft: `50%`,\r\n\t\t\t// elem.style[`-webkit-transform`] = `translate(-50%, -50%)`,\r\n\t\t\t// elem.style[`-ms-transform`] = `translate(-50%, -50%)`,\r\n\t\t\ttransform: `translate(-50%, -50%)`,\r\n\t\t};\r\n\t\twindow.addEventListener('resize', debounce(sizeVideo, 100));\r\n\r\n\t\t// const supportsVideo = (typeof(this.canPlayType) !== 'undefined') ? true : false;\r\n\t\tconst isMobile = {\r\n\t\t\tandroid: function() {\r\n\t\t\t\treturn navigator.userAgent.match(/Android/i);\r\n\t\t\t},\r\n\t\t\tblackBerry: function() {\r\n\t\t\t\treturn navigator.userAgent.match(/BlackBerry/i);\r\n\t\t\t},\r\n\t\t\tiOS: function() {\r\n\t\t\t\treturn navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n\t\t\t},\r\n\t\t\topera: function() {\r\n\t\t\t\treturn navigator.userAgent.match(/Opera Mini/i);\r\n\t\t\t},\r\n\t\t\twindows: function() {\r\n\t\t\t\treturn navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\r\n\t\t\t},\r\n\t\t\ttest: function() {\r\n\t\t\t\treturn (this.android() || this.blackBerry() || this.iOS() || this.opera() || this.windows());\r\n\t\t\t},\r\n\t\t};\r\n\t\tif (isMobile.test()) {\r\n\t\t\t$video.remove();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t$video.prop('muted', settings.mute);\r\n\t\t$video.prop('controls', false);\r\n\t\t// $video.prop('autoplay', settings.autoplay);\r\n\r\n\t\tif (settings.context) {\r\n\t\t\t$video.bind('contextmenu', function() {\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (typeof settings.complete === 'function') { // make sure the complete is a function\r\n\t\t\t$video.bind('ended', function() {\r\n\t\t\t\tsettings.complete(); // complete video & call function.\r\n\r\n\t\t\t\t// infinite loop\r\n\t\t\t\tif (settings.loop) {\r\n\t\t\t\t\tthis.play();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t});\r\n};\r\n\r\n\r\n$('#videolay').videolay({\r\n\thello: 123,\r\n\tcallback: function () {\r\n\t\t$(this).remove();\r\n\t},\r\n});\r\n"]}